# OTA 中服务端与硬件交互接口 #
## 1.设备上报IMEI，固件版本，硬件版本 ##
### 设备上报IMEI数据包格式
### （设备每次开始更新时上报一次该数据包）
设备上报数据报文|
---|
{<br>&emsp;"imei" : "863703030562",<br>&emsp;"hardware_version" : "0101",<br>&emsp;"software_version" : "0102"<br>}|

### 服务端收到报文后回复
### 服务端回复数据包格式
数据包组成|字节数|内容|说明
---|---|---|---
报头|7|"imeirep"|
固件长度|5|"00543"|补齐5个字节
固件版本号|4|"0103"|补齐4个字节
报尾|3|"end"|

## 2.设备上报固件包请求 ##
### 设备上报固件请求包格式
### （设备上报无顺序，可重复）
设备上报数据报文|
---|
{<br>&emsp;"pack_num" : 1<br>}|

### 服务端收到报文后回复
### 服务端回复数据包格式
数据包组成|字节数|内容|说明
---|---|---|---
报头|8|"firmware"|
固件包序号|5|"00001"|补齐5个字节
固件包长度|5|"00256"|补齐5个字节
固件内容|256|"A833DA56..."|
报尾|3|"end"|

## 3.设备上报固件包请求完成 ##
### 设备上报固件请求完成包格式
### （接收一次后关闭端口，或者端口断开关闭端口,服务端无需回复）
设备上报数据报文|
---|
{<br>&emsp;"pack_status" : "finish"<br>}|
